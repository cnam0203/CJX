{% extends 'journey/base-dashboard.html' %}

{% block content %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'journey/css/review-mapping.css' %}">
    <div class="review-container">
        <div class="review-title">Review Matching File</div>
        <div class="review-configure">
            <div class="center-configure">
                <div class="select-box">
                    <label class="select-label">Filename:</label>
                    <select name="select-input" id="select-input" onchange='readInstruction(this)'>
                        <option class="select-choice" value=""></option>
                        {% for source in dataSrcs %}
                            <option class="select-choice" value={{ source.id }}>{{ source.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        {% if dataSrcName != null %}
            <div class="mapping-container">
                <div class="mapping-table">
                    <div class="mapping-name">{{ dataSrcName }}</div>
                    <div class="table-header">
                        <div class="header-file">Column name</div>
                        <div class="header-file">Touchpoint field</div>
                        <div class="header-file">Matching Function</div>
                    </div>
                    {% for matchingPair in listMatchingFields%}
                        <div class="table-row">
                            {% for field in matchingPair%}
                                <div class="table-column">{{ field }}</div>
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
                <div class="example-container">
                    <div class="example-txt">Example</div>
                    {% if instructionImg != null %}
                        <img src="{{ instructionImg }}" class="img-instruction"/>
                    {% endif %}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
    <script src="{% static '/journey/js/read-instruction.js' %}" type="text/javascript"></script> 
{% endblock %}