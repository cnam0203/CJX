{% extends "admin/base.html" %}

{% block content %}
        <div style="width: 100%;text-align:center">
            <h1>Customer Experience Management</h1>
            <h2>CREATE MAPPING FILES</h2>
            <label>DATA SOURCE's NAME: </label>
            <input type="text" id="data-source-name" value=''/>
            <br/>
            <br/>
            <table style="width:500px; margin: auto" >
                <tr>
                  <th style="text-align:center; border:1px solid #000000">Customer Journey Fields</th>
                  <th style="text-align:center; border:1px solid #000000">Your Report Fields</th>
                  <th style="text-align:center; border:1px solid #000000">Function</th>
                </tr>
                {% for column in journeyColumns%}
                  <tr>
                    <td style="text-align:center; border:1px solid #000000">{{ column }}</td>
                    <td style="text-align:center; border:1px solid #000000">
                        <input type="text" id='report-column-{{ column }}' value=''/>
                    </td>
                    <td style="text-align:center; border:1px solid #000000">
                        <select id='instruction-{{ column }}' name='instruction'>
                            <option value=''>Choose function</option>
                            {% for function in functions%}
                                <option value= {{ function }}>{{ function }}</option>
                            {% endfor %}
                        </select>
                    </td>
                  </tr>
                {% endfor %}
            </table>
            <br>
            <br>
            <label>Instruction image:</label>
            <input type="file" 
                    id="upload-instruction" 
                    accept=".jpg, .jpeg, .png"
                    style="width: 86px"
            />
            <br/>
            <br/>
            <input type="submit" 
                    value='Create' 
                    id="submit-create" 
                    onclick="submitMappingFile({{ reports }}, {{ journeyColumns}});"
            />
        </div>
        {% load static %}  
        <script src="{% static '/journey/js/utils.js' %}" type="text/javascript"></script> 
        <script src="{% static '/journey/js/create-mapping-file.js' %}" type="text/javascript"></script> 
{% endblock %}